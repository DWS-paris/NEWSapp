<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>APIdwsapp.io</title>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300italic,700,700italic">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/normalize/5.0.0/normalize.css">
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/milligram/1.3.0/milligram.css">
        <link rel="stylesheet" href="./css/style.css">

        <!-- Ajouter le manifest -->
        <link rel="manifest" href="./manifest.json">

        <meta name="mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
        <meta name="apple-mobile-web-app-title" content="News Feed">

        <meta name="application-name" content="News">
        <meta name="apple-mobile-web-app-title" content="News">
        <meta name="theme-color" content="#ff0000">
        <meta name="msapplication-navbutton-color" content="#ff0000">
        <meta name="msapplication-starturl" content="/index.html">

        <link rel="icon" sizes="192x192" href="./img/icons/icon-192x192.png">
        <link rel="icon" sizes="128x128" href="./img/icons/icon-128x128.png">
        <link rel="apple-touch-icon" sizes="128x128" href="./img/icons/icon-128x128.png">
        <link rel="apple-touch-icon-precomposed" sizes="128x128" href="./img/icons/icon-128x128.png">

        <script>
            // This is the service worker with the Cache-first network
            // Add this below content to your HTML page, or add the js file to your page at the very top to register service worker
      
            // Check compatibility for the browser we're running this in
            if ("serviceWorker" in navigator) {
              if (navigator.serviceWorker.controller) {
                console.log("[PWA Builder] active service worker found, no need to register");
              } else {
                // Register the service worker
                navigator.serviceWorker
                .register("./service.worker.js", {
                    scope: "https://dws-paris.github.io/NEWSapp/"
                })
                .then( (reg) => {
                    console.log("[PWA Builder] Service worker has been registered for scope: " + reg.scope);
                });
              }
            }
        </script>
    </head>
    <body>
        <header>
            <aside id="loading" class="open"><img src="./img/loading.gif" alt="Loading image"></aside>

            <nav>
                <ul>
                    <li class="title">News feed</li>
                </ul>
            </nav>

            <form action="#" id="registerForm">
                <input type="text" name="firstname" minlength="2" required placeholder="Your Firstname">
                <input type="text" name="lastname" minlength="2" required placeholder="Your lastname">
                <input type="email" name="email" minlength="5" required placeholder="Your email">
                <input type="password" name="password" minlength="5" placeholder="Your password">
                <input type="password" name="passwordRepeat" minlength="5" placeholder="Repeat your password">

                <button type="submit">Register</button>
            </form>

            <form action="#" id="loginForm">
                <input type="email" name="email" minlength="5" required placeholder="Your email">
                <input type="password" name="password" minlength="5" required placeholder="Your password">

                <button type="submit">Login</button>
            </form>

            <form action="#" id="newsForm" class="hidden">
                <label>Select your information source and keywords (optional)</label>
                <select name="source" required>
                    <option value="null">Select source...</option>
                </select>
                <input type="text" name="question" placeholder="Any keywords?">
                <button type="submit">Search</button>
                <button type="reset">Reset form</button>
                <button type="button" id="addToBookmark" class="">Add to bookmarks</button>
                <button type="button" id="deleteBookmark">Delete bookmarks</button>
            </form>
        </header>

        <main>
            <ul id="newsFeed"></ul>
        </main>

        <footer>
            <p>Under <a href="https://fr.wikipedia.org/wiki/WTFPL" target="_blank">WTFPL</a> - 2020 by <a href="https://www.linkedin.com/in/julien-n-21219b28/" target="_blank">Julien Noyer</a></p>
        </footer>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/socket.io/2.3.0/socket.io.dev.js"></script>
        <script src="https://kit.fontawesome.com/421e740d1a.js" crossorigin="anonymous"></script>
        <script src="./js/fetch.class.js"></script>
        <script src="./js/form.class.js"></script>
        <script src="./js/app.js"></script>
    </body>
</html>